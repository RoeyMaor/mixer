subject: global
adapters:
  - name: token
    kind: attributes
    impl: token
    params:
      issuers:
      -  name: "local" #(needs to match the value of the token's "iss" claim)
         pubKeyUrl: "http://jwktestserver:21356/keys"
         claimNames:
          - "name"
          - "locations.us.ca"
          - "servers.haifa"
         claimRenames:
          haifa: servers.haifa #(ability to rename requested claims in the output)
  - name: default
    kind: quotas
    impl: memQuota
    params:
# - name: default
#   impl: stdioLogger
#   params:
#     logStream: STDERR
#     omitEmptyFields: false
  - name: l7collector
    kind: access-logs
    impl: l7collector
    params:
      logStream: STDERR
      omitEmptyFields: false
  - name: prometheus
    kind: metrics
    impl: prometheus
  - name: default
    impl: denyChecker
  - name: default
    kind: attributes
    impl: kubernetes
    params:
      # when running from mixer root, use the following config after adding a
      # symbolic link to a kubernetes config file via:
      #
      # $ ln -s ~/.kube/config adapter/kubernetes/kubeconfig
      #
      # kubeconfig_path: "adapter/kubernetes/kubeconfig"
